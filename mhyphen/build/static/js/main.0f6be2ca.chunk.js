(this.webpackJsonpmhyphen=this.webpackJsonpmhyphen||[]).push([[0],{215:function(e,t,n){},216:function(e,t,n){},218:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},231:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,d,b,j,u=n(0),p=n.n(u),g=n(132),h=n(20),m=n.n(h),x=(n(215),n(18)),f=(n(216),n(40)),O=n.n(f),v=n(74),k=n(24),w=(n(218),n(87)),y=n(193),_=n(290),N=n(291),I=n(256),S=n(324),$=n(293),L=n(325),F=n(282),T=n(254),C=n(283),R=n(284),W=n(285),M=n(167),B=n.n(M),P=n(169),z=n.n(P),U=n(170),H=n.n(U),D=n(171),A=n.n(D),E=n(168),Y=n.n(E),G=n(2),q=Object(w.a)({list:{width:"100%",height:220,background:"black",backdropFilter:"blur( 2.5px )"},listText:{color:"white"},fullList:{width:"auto",color:"white"}}),J=function(e){var t=e.user,n=q(),a=function(){localStorage.removeItem("token")};return ge.id=Number(null===t||void 0===t?void 0:t.id),ge.name=String(null===t||void 0===t?void 0:t.name),Object(G.jsx)("div",{className:n.list,children:Object(G.jsxs)(F.a,{children:[Object(G.jsxs)(T.a,{button:!0,href:"/",component:C.a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(B.a,{style:{fill:"white"}})}),Object(G.jsx)(W.a,{className:n.listText,primary:"Home"})]}),Object(G.jsxs)(T.a,{button:!0,href:"/booking",component:C.a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(Y.a,{style:{fill:"white"}})}),Object(G.jsx)(W.a,{className:n.listText,primary:"Book"})]}),t?Object(G.jsxs)("div",{children:[Object(G.jsxs)(T.a,{button:!0,href:"/tickets",component:C.a,onClick:a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(z.a,{style:{fill:"white"}})}),Object(G.jsx)(W.a,{className:n.listText,primary:"My Tickets"})]}),Object(G.jsxs)(T.a,{button:!0,href:"/home",component:C.a,onClick:a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(H.a,{style:{fill:"white"}})}),Object(G.jsx)(W.a,{className:n.listText,primary:"Logout"})]})]}):Object(G.jsxs)(T.a,{button:!0,href:"https://github.com/login/oauth/authorize?client_id=".concat("a12b7d82fa895598caba","&scope=user&redirect_uri=").concat("https://mhyphen.azurewebsites.net/home"),component:C.a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(A.a,{style:{fill:"white"}})}),Object(G.jsx)(W.a,{className:n.listText,primary:"Login"})]})]})})},K=n(176),Z=n.n(K),Q=n(292),X=n.p+"static/media/M-.cd10786d.png",V=n(318),ee=n(27),te=n(314),ne=Object(te.a)(a||(a=Object(ee.a)(["\n  fragment userFields on User {\n    id\n    name\n    gitHub\n    imageURI\n  }\n"]))),ae=Object(te.a)(i||(i=Object(ee.a)(["\n  fragment movieFields on Movie {\n    id\n    title\n    plot\n    imageURL\n    runtime\n    rating\n    genre\n  }\n"]))),ie=Object(te.a)(r||(r=Object(ee.a)(["\n  fragment bookingFields on Booking {\n    id\n    price\n    booked\n    created\n    movieId\n    userId\n  }\n"]))),re=Object(te.a)(o||(o=Object(ee.a)(["\n  fragment pageInfoFields on PageInfo {\n    hasNextPage\n    hasPreviousPage\n    startCursor\n    endCursor\n  }\n"]))),oe=Object(te.a)(c||(c=Object(ee.a)(["\n  mutation Login($code: String!) {\n    login(input: { code: $code }) {\n      user {\n        ...userFields\n      }\n      jwt\n    }\n  }\n  ","\n"])),ne),ce=(Object(te.a)(s||(s=Object(ee.a)(["\n  mutation EditSelf($name: String!, $imageURI: String!) {\n    editSelf(input: { name: $name, imageURI: $imageURI }) {\n      ...userFields\n    }\n  }\n  ","\n"])),ne),Object(te.a)(l||(l=Object(ee.a)(["\n  mutation AddMovie(\n    $title: String!\n    $plot: String!\n    $imageURL: String!\n    $runtime: Int!\n    $rating: Float!\n    $genre: String!\n  ) {\n    addMovie(\n      input: {\n        title: $title\n        plot: $plot\n        imageURL: $imageURL\n        runtime: $runtime\n        rating: $rating\n        genre: $genre\n      }\n    ) {\n      ...movieFields\n    }\n  }\n  ","\n"])),ae),Object(te.a)(d||(d=Object(ee.a)(["\n  mutation EditMovie(\n    $movieId: String!\n    $title: String!\n    $plot: String!\n    $imageURL: String!\n    $runtime: Int!\n    $rating: Float!\n    $genre: String!\n  ) {\n    editMovie(\n      input: {\n        movieId: $movieId\n        title: $title\n        plot: $plot\n        imageURL: $imageURL\n        runtime: $runtime\n        rating: $rating\n        genre: $genre\n      }\n    ) {\n      ...movieFields\n    }\n  }\n  ","\n"])),ae),Object(te.a)(b||(b=Object(ee.a)(["\n  mutation AddBooking($booked: DateTime!, $movieId: ID!) {\n    addBooking(input: { booked: $booked, movieId: $movieId }) {\n      ...bookingFields\n    }\n  }\n  ","\n"])),ie)),se=(Object(te.a)(j||(j=Object(ee.a)(["\n  mutation EditBooking($bookingId: ID!, $movieId: String) {\n    editBooking(input: { bookingId: $bookingId, movieId: $movieId }) {\n      ...bookingFields\n    }\n  }\n  ","\n"])),ie),n(177)),le=n.n(se),de=n(38),be=n.n(de),je=n(286);function ue(){return Object(je.a)(be()({minWidth:1200}))}var pe=Object(w.a)((function(e){return Object(y.a)({root:{flexGrow:1},logo:{marginLeft:"40%"},logo__mobile:{marginLeft:"0"},appBar:{width:"100%",position:"fixed",minHeight:"60px",backgroundSize:"cover",marginLeft:"auto",marginRight:"auto",height:"60px",transitionTimingFunction:"ease-in",transition:"all 0.5s",alignItems:"centre",display:"flex",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur( 2.5px )",background:"rgba( 255, 255, 255, 0.20 )"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},inputRoot:{color:"inherit"},flexEnd:{justifyContent:"flex-end",alignItems:"center",display:"flex"},login:{marginLeft:"23%",display:"flex",justifyContent:"flex-end"},login__mobile:{marginLeft:"10%",display:"flex",alignItems:"center"},divider:{margin:"10px"}})})),ge={id:2,name:""},he="a12b7d82fa895598caba",me=function(e){var t=e.user,n=Object(x.g)(),a=pe(),i=Object(u.useState)(!1),r=Object(k.a)(i,2),o=r[0],c=r[1];ge.id=Number(null===t||void 0===t?void 0:t.id),ge.name=String(null===t||void 0===t?void 0:t.name);var s=new URLSearchParams(Object(x.h)().search),l=function(){c(!o)},d=Object(V.a)(oe),b=Object(k.a)(d,1)[0];return Object(u.useEffect)((function(){(function(){var e=Object(v.a)(O.a.mark((function e(){var t,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=s.get("code"))){e.next=14;break}return e.prev=2,e.next=5,b({variables:{code:t}});case 5:a=e.sent,null!=(i=a.data)&&localStorage.setItem("token",i.login.jwt),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:n.push("/home");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(G.jsx)("div",{className:"header__root",children:Object(G.jsx)(_.a,{className:a.appBar,position:"static",children:Object(G.jsxs)(N.a,{children:[Object(G.jsxs)(I.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer",onClick:l,children:[Object(G.jsx)(Z.a,{}),Object(G.jsx)(S.a,{anchor:"top",open:o,onClose:l,children:Object(G.jsx)(J,{user:t})})]}),Object(G.jsxs)(I.a,{className:ue()?a.logo:a.logo__mobile,href:"/home",children:[Object(G.jsx)("img",{className:"header__logo",src:X,id:"logo",alt:"M- Logo"}),Object(G.jsx)("h1",{className:"header__header",children:"Outdoor Cinema"})]}),null==t?Object(G.jsxs)("div",{className:ue()?a.login:a.login__mobile,children:[Object(G.jsx)(le.a,{fontSize:"large"}),Object(G.jsx)(Q.a,{color:"inherit",href:"https://github.com/login/oauth/authorize?client_id=".concat(he,"&scope=user&redirect_uri=").concat("https://mhyphen.azurewebsites.net/home"),children:"Login"})]}):Object(G.jsxs)("div",{className:ue()?a.login:a.login__mobile,children:[Object(G.jsx)(Q.a,{color:"inherit",href:"/tickets",children:"My Tickets"}),Object(G.jsx)($.a,{orientation:"vertical",flexItem:!0,className:a.divider}),Object(G.jsx)(L.a,{alt:"user-avatar",src:t.imageURI}),Object(G.jsx)(Q.a,{color:"inherit",href:"/booking",children:t.name})]})]})})})},xe=n(70),fe=function(e){var t=e.name,n=e.url,a=e.logo;return Object(G.jsx)(I.a,{href:n,children:Object(G.jsx)("img",{src:a,id:a,height:"20px",alt:t})})},Oe=n(317),ve=n(294),ke=n(311),we=n.p+"static/media/microsoft_logo.b41d1309.svg",ye=[{name:"Facebook",url:"https://www.facebook.com/studentaccelerator/",logo:n.p+"static/media/facebook_logo.c4f27ea8.svg"},{name:"Discord",url:"https://discord.gg/c4Y5SAZ",logo:n.p+"static/media/discord_logo.f19d6e13.svg"},{name:"Facebook Group",url:"https://www.facebook.com/groups/msaccelerator/",logo:n.p+"static/media/facebookgroup_logo.e322da27.svg"},{name:"YouTube",url:"https://www.youtube.com/channel/UCCegNuS_AZjK-P3ZMN3JXNw",logo:n.p+"static/media/youtube_logo.f4c527c2.svg"},{name:"GitHub",url:"https://github.com/nzmsa",logo:n.p+"static/media/github_logo.0751427e.svg"}],_e={name:"Microsoft logo",url:"https://www.microsoft.com/en-nz",logo:we},Ne=(n(228),function(){return Object(G.jsxs)("footer",{className:"footer",children:[Object(G.jsx)(Oe.a,{smDown:!0,children:Object(G.jsxs)(ve.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:3,children:[Object(G.jsxs)(ve.a,{item:!0,xs:9,children:[Object(G.jsx)(fe,Object(xe.a)({},_e)),"Copyright \xa9 Microsoft Student Accelerator, 2021. All rights reserved"]}),Object(G.jsx)(ve.a,{item:!0,xs:3,children:ye.map((function(e){return Object(G.jsx)(fe,Object(xe.a)({},e),e.name)}))})]})}),Object(G.jsx)(Oe.a,{smUp:!0,children:Object(G.jsxs)(ve.a,{container:!0,direction:"row",children:[Object(G.jsx)(ve.a,{item:!0,children:Object(G.jsxs)(ve.a,{container:!0,direction:"row",justify:"space-between",spacing:3,children:[Object(G.jsx)(ve.a,{item:!0,children:Object(G.jsx)(ke.a,{marginLeft:2,children:"\xa9 MSA 2021"})}),Object(G.jsx)(ve.a,{item:!0,children:Object(G.jsx)(C.a,{color:"inherit",href:"https://go.microsoft.com/fwlink/?LinkId=521839",children:"Privacy policy"})}),Object(G.jsx)(ve.a,{item:!0,children:Object(G.jsx)(C.a,{color:"inherit",href:"https://go.microsoft.com/fwlink/?LinkID=206977",children:"Terms of use"})})]})}),Object(G.jsx)(ve.a,{item:!0,children:Object(G.jsx)(ke.a,{marginLeft:8,children:ye.map((function(e){return Object(G.jsx)(fe,Object(xe.a)({},e),e.name)}))})})]})})]})}),Ie=n(295),Se=n(61),$e=n(188),Le=(n(229),["primary","size","backgroundColor","label","className"]),Fe=function(e){var t=e.primary,n=void 0!==t&&t,a=e.size,i=void 0===a?"medium":a,r=e.backgroundColor,o=e.label,c=e.className,s=Object($e.a)(e,Le),l=n?"storybook-button--primary":"storybook-button--secondary";return Object(G.jsx)("button",Object(xe.a)(Object(xe.a)({type:"button",className:["storybook-button","storybook-button--".concat(i),c,l].join(" "),style:{backgroundColor:r}},s),{},{children:o}))},Te=n(178),Ce=n.n(Te),Re=n(186),We=n(25),Me=n(300),Be=n(322),Pe=n(320),ze=n(299),Ue=n(296),He=n(315),De=n(301),Ae=n(304),Ee=n(302),Ye=n(305);function Ge(){return Object(je.a)(be()({minWidth:990}))}var qe=Object(w.a)((function(e){return{root:{"& .MuiFormHelperText-root":{color:"#372854"}},form__container:{maxWidth:"600px !important",padding:"15px"},form__movie:{width:"490px"},form__movie__mobile:{width:"220px"},form:{marginLeft:"-21%",marginTop:"20%",textAlign:"center",fontFamily:"Helvetica",color:"#000000",padding:"25px",width:"500px",background:"rgba( 255, 255, 255, 0.40 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 3.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )"},form__mobile:{marginTop:"23%",textAlign:"center",fontFamily:"Helvetica",color:"#000000",padding:"25px",background:"rgba( 255, 255, 255, 0.40 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 3.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )",marginLeft:"5%",marginRight:"5%"},button:{margin:"auto",marginTop:"10px",color:"white"},notLoggedIn:{color:"red"}}})),Je=function(){var e=qe(),t=Object(u.useState)(""),n=Object(k.a)(t,2),a=n[0],i=n[1],r=Object(u.useState)(!1),o=Object(k.a)(r,2),c=o[0],s=o[1],l=Object(u.useState)(!1),d=Object(k.a)(l,2),b=d[0],j=d[1],g=p.a.useState(new Date("2021-08-18T21:11:54")),h=Object(k.a)(g,2),m=h[0],x=h[1],f=Object(u.useState)(!1),w=Object(k.a)(f,2),y=w[0],_=w[1],N=Object(V.a)(ce),I=Object(k.a)(N,1)[0],S=p.a.useState(!1),$=Object(k.a)(S,2),L=$[0],F=$[1],T=function(e){x(e)},C=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({variables:{movieId:parseInt(a),booked:m}});case 3:j(!0),F(!0),s(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),s(!0);case 12:_(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)(Ie.a,{className:e.form__container,children:[Object(G.jsxs)("div",{className:Ge()?e.form:e.form__mobile,children:[b?Object(G.jsxs)("div",{children:[Object(G.jsx)(Ce.a,{fontSize:"large"}),Object(G.jsx)(Se.a,{variant:"h4",children:"Your ticket is ready!"}),Object(G.jsxs)(ve.a,{children:["Your booking reference is \u3014M",String(a),"@",m.toLocaleString(),"\u3015 ."]})]}):Object(G.jsx)(Se.a,{variant:"h4",children:"FILL IN YOUR TICKET"}),c?Object(G.jsx)(ve.a,{className:e.notLoggedIn,children:"Please make sure you are logged in and selected a movie."}):null,Object(G.jsxs)(ve.a,{container:!0,spacing:4,children:[Object(G.jsx)(ve.a,{item:!0,xs:12,sm:12,children:Object(G.jsxs)(Ue.a,{className:Ge()?e.form__movie:e.form__movie__mobile,children:[Object(G.jsx)(Pe.a,{id:"demo-customized-select-label",children:" Movie "}),Object(G.jsxs)(He.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:a,onChange:function(e){i(e.target.value)},className:y&&""===a?"":e.root,children:[Object(G.jsx)(ze.a,{value:"1",children:"Whisper of The Heart"}),Object(G.jsx)(ze.a,{value:"2",children:"Ponyo"}),Object(G.jsx)(ze.a,{value:"3",children:"Your Name"}),Object(G.jsx)(ze.a,{value:"4",children:"My Neighbor Totoro"}),Object(G.jsx)(ze.a,{value:"5",children:"A Whisker Away"}),Object(G.jsx)(ze.a,{value:"6",children:"The Mitchells vs the Machines"}),Object(G.jsx)(ze.a,{value:"7",children:"When Marnie Was There"}),Object(G.jsx)(ze.a,{value:"8",children:"Pok\xe9mon: Mewtwo Strikes Back\u2014Evolution"}),Object(G.jsx)(ze.a,{value:"9",children:"Pok\xe9mon Detective Pikachu"}),Object(G.jsx)(ze.a,{value:"10",children:"Raya and the Last Dragon"})]})]})}),Object(G.jsxs)(We.a,{utils:Re.a,children:[Object(G.jsx)(ve.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(Me.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Please select a Date",value:m,onChange:T,KeyboardButtonProps:{"aria-label":"change date"}})}),Object(G.jsx)(ve.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(Be.a,{margin:"normal",id:"time-picker",label:"Please pick a Time",value:m,onChange:T,KeyboardButtonProps:{"aria-label":"change time"}})})]})]}),b?null:Object(G.jsx)(Fe,{className:e.button,backgroundColor:"#130430",label:"Book",onClick:C,primary:!0,size:"medium"})]}),Object(G.jsx)(Ze,{isOpen:L,setIsOpen:F})]})},Ke=Object(w.a)(Object(y.a)({content:{background:"rgba( 255, 255, 255, 0.20 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 2.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )",padding:"15px"},buttonGroup:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{margin:"10px"}})),Ze=function(e){var t=e.isOpen,n=e.setIsOpen,a=Ke();return Object(G.jsxs)(De.a,{open:t,onClose:function(){return n(!1)},children:[Object(G.jsx)(Ae.a,{children:"Your booking has been recorded!"}),Object(G.jsxs)(Ee.a,{className:a.content,children:[Object(G.jsx)(Ye.a,{children:'You have successfully made a booking! You may pay $15 when you arrive at the cinema. You can find your ticket by clicking on "My Tickets".'}),Object(G.jsx)(Fe,{backgroundColor:"#130430",label:"Back",onClick:function(){return n(!1)},primary:!0,size:"medium"})]})]})},Qe=n(179),Xe=n(303),Ve=n(306),et=n(307),tt=n(180),nt=n.n(tt),at=Object(w.a)(Object(y.a)({card:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",alignContent:"center",minWidth:"190px",maxWidth:"300px",minHeight:"200px",maxHeight:"700px",width:"1%",height:"300px",borderRadius:"17px",background:"rgba( 255, 255, 255, 0.10 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 11.5px )",border:"1px solid rgba( 255, 255, 255, 0.18 )"},icon:{color:"rgba(255, 255, 255, 0.54)"},poster:{width:"100%",height:"100%"},plot:{width:"90%",zIndex:1e3,color:"rgba(255, 255, 255, 0.54)"},wrapper:{width:"100%",minHeight:"50px",color:"#fff"},divider:{width:"90%",marginLeft:"5%"},header:{display:"flex"},description:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur( 2.5px )",background:"rgba( 255, 255, 255, 0.20 )"}})),it=Object(w.a)(Object(y.a)({content:{background:"rgba( 255, 255, 255, 0.20 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 2.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )",padding:"15px"},media:{},info:{alignItems:"center",display:"flex"},buttonGroup:{padding:"20px",display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{margin:"10px"}})),rt=at,ot=n(181),ct=n.n(ot),st=n(183),lt=n.n(st),dt=n(182),bt=n.n(dt),jt=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.title,i=e.plot,r=e.rating,o=e.genre,c=e.release_date,s=it();return Object(G.jsxs)(De.a,{open:t,onClose:function(){return n(!1)},children:[Object(G.jsx)(Ae.a,{children:a}),Object(G.jsxs)(Ee.a,{className:s.content,children:[Object(G.jsxs)(Ye.a,{className:s.info,children:[Object(G.jsx)(ct.a,{}),"\xa0 Rating: ",r]}),Object(G.jsx)(Ye.a,{children:"undefined"==o?Object(G.jsxs)("div",{className:s.info,children:[Object(G.jsx)(bt.a,{}),"\xa0 Release Date: ",c]}):Object(G.jsxs)("div",{className:s.info,children:[Object(G.jsx)(lt.a,{}),"\xa0 Genre: ",o]})}),Object(G.jsx)($.a,{}),Object(G.jsx)("br",{}),Object(G.jsx)(Ye.a,{children:i}),Object(G.jsx)("div",{className:s.buttonGroup,children:Object(G.jsx)(Fe,{backgroundColor:"#000000",label:"Back",onClick:function(){return n(!1)},primary:!0,size:"medium"})})]})]})},ut=function(e){var t=e.title,n=e.plot,a=e.rating,i=e.genre,r=e.poster,o=e.release_date,c=rt(),s=p.a.useState(!1),l=Object(k.a)(s,2),d=l[0],b=l[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)(Ve.a,{className:c.card,variant:"outlined",children:[Object(G.jsx)("img",{className:c.poster,src:r,alt:t}),Object(G.jsx)(et.a,{className:c.description,title:t,subtitle:Object(G.jsx)("span",{children:n}),actionIcon:Object(G.jsx)(I.a,{"aria-label":"info about ".concat(t),className:c.icon,onClick:function(){return b(!0)},children:Object(G.jsx)(nt.a,{})})})]}),Object(G.jsx)(jt,{isOpen:d,setIsOpen:b,title:t,plot:n,rating:a,genre:i,release_date:o})]})},pt=n(308),gt=n(309),ht=Object(w.a)(Object(y.a)({root:{display:"flex",flexWrap:"wrap",marginLeft:"20px",paddingTop:"0",zIndex:10,position:"relative",marginTop:"-100px"},cardList:{width:"100%",gap:"0%",height:"100%",transform:"translateZ(0)",flexWrap:"nowrap"},cardListItem:{marginRight:"10px",marginLeft:"10px",marginBottom:"50px"}})),mt=function(e){var t=ht(),n=[];return e.forEach((function(e){n.push(Object(G.jsx)(gt.a,{className:t.cardListItem,children:e}))})),n},xt=function(e){var t=e.cards,n=e.cols,a=ht();return Object(G.jsx)("div",{className:a.root,children:(Object(je.a)(be()({minWidth:990})),Object(G.jsx)(pt.a,{className:a.cardList,cols:n,rowHeight:"auto",children:mt(t)}))})},ft=Object(w.a)(Object(y.a)({movieTitle:{alignItems:"center",marginRight:"0"},ticket__mobile:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",alignContent:"center",minWidth:"260px",maxWidth:"200px",minHeight:"200px",maxHeight:"1000px",width:"1000px",height:"330px",borderRadius:"10px",background:"rgba( 0, 0, 0, 0.10 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 2px )",border:"1px solid #00FFFF"},ticket:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",alignContent:"center",minWidth:"190px",maxWidth:"400px",minHeight:"400px",maxHeight:"1000px",width:"1000px",height:"280px",borderRadius:"10px",background:"rgba( 0, 0, 0, 0.10 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 2px )",border:"1px solid #00FFFF"},booking__description:{color:"#fff"},poster:{width:"100%",height:"100%"},description:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur( 15.5px )",background:"rgba( 255, 255, 255, 0.20 )",color:"black",fontColor:"black",fontWeight:100,height:"100px"}}));var Ot=function(e){var t=e.id,n=e.price,a=e.booked,i=(e.created,e.movieTitle),r=e.qr,o=ft();return Object(G.jsx)("div",{children:Object(G.jsxs)(Ve.a,{className:Object(je.a)(be()({minWidth:990}))?o.ticket:o.ticket__mobile,variant:"outlined",children:[Object(G.jsx)("img",{className:o.poster,src:r,alt:t}),Object(G.jsx)(et.a,{className:o.description,title:Object(G.jsx)("h2",{className:o.booking__description,children:i}),subtitle:Object(G.jsxs)("div",{className:o.booking__description,children:[Object(G.jsxs)("strong",{children:["Time: ",new Date(a).toLocaleString()]}),Object(G.jsx)("br",{}),Object(G.jsxs)("strong",{children:["Price: $",n]})]})})]})})},vt=Object(w.a)(Object(y.a)({root:{display:"flex",flexWrap:"wrap",marginLeft:"0px",paddingTop:"0",zIndex:10,position:"relative",justifyContent:"space-around",overflow:"hidden",width:"100%",backgroundPosition:"fixed"},ticketList:{width:"100%",gap:50,height:"100%",transform:"translateZ(0)",flexWrap:"nowrap"},ticketListItem:{marginRight:"0px",marginLeft:"0px",marginBottom:"50px",minWidth:"280px"}})),kt=function(e){var t=vt(),n=[];return e.forEach((function(e){n.push(Object(G.jsx)(gt.a,{className:t.ticketListItem,children:e}))})),n},wt=function(e){var t=e.tickets,n=vt();return Object(G.jsx)("div",{className:n.root,children:Object(G.jsx)(pt.a,{rowHeight:970,className:n.ticketList,children:kt(t)})})},yt=(n(231),n(124)),_t=n.n(yt),Nt=_t.a.create({baseURL:"https://api.themoviedb.org/3"}),It="c66d3d36a1ab33af191a31634a1b5a81";var St,$t,Lt,Ft,Tt,Ct,Rt=function(){var e=["https://www.themoviedb.org/t/p/original/nDP33LmQwNsnPv29GQazz59HjJI.jpg","https://www.themoviedb.org/t/p/original/e4qwJdxWkNU49y6YyYyN60Gimdi.jpg","https://www.themoviedb.org/t/p/original/yXybBEC45p84D0Ky7GmQQYrclVr.jpg","https://www.themoviedb.org/t/p/original/i62oJ7p89sPvhf9gNkuDQVSlj2G.jpg","https://www.themoviedb.org/t/p/original/xIbSSyPYgCfyljRWGsmAJqHLYnY.jpg","https://www.themoviedb.org/t/p/original/u4XvyFvMtFZOWUcA0GmlWP6rMxC.jpg"],t=p.a.useState(),n=Object(k.a)(t,2),a=n[0],i=n[1],r=e[Math.floor(Math.random()*e.length-1)];return Object(u.useEffect)((function(){function e(){return(e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.get("/movie/447404?api_key=".concat(It,"&language=en-US"));case 2:return t=e.sent,i(t.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(G.jsxs)("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:"url('".concat(r,"')"),backgroundPosition:"center center"},children:[Object(G.jsxs)("div",{className:"banner__contents",children:[Object(G.jsx)("h1",{className:"banner__title",children:null===a||void 0===a?void 0:a.title}),Object(G.jsx)("h1",{className:"banner__description",children:String(null===a||void 0===a?void 0:a.overview)}),Object(G.jsx)("a",{className:"banner__button",href:"/booking",children:"GET YOUR TICKET NOW!"}),Object(je.a)(be()({minWidth:990}))?Object(G.jsxs)("div",{className:"sign",children:[Object(G.jsx)("span",{className:"fast-flicker",children:"N"}),"OW",Object(G.jsx)("span",{className:"flicker",children:"\xa0SHO"}),Object(G.jsx)("span",{className:"fast-flicker",children:"WI"}),"NG"]}):null]}),Object(G.jsx)("div",{className:"banner--fadeBottom"})]})},Wt=n(316),Mt=Object(te.a)(St||(St=Object(ee.a)(["\n  query Bookings($userId: Int!) {\n    bookingsByUserId(userId: $userId) {\n      ...bookingFields\n    }\n  }\n  ","\n"])),ie),Bt=Object(te.a)($t||($t=Object(ee.a)(["\n  query Movies($first: Int, $after: String, $last: Int, $before: String) {\n    movies(first: $first, after: $after, last: $last, before: $before) {\n      pageInfo {\n        ...pageInfoFields\n      }\n      edges {\n        cursor\n      }\n      nodes {\n        ...movieFields\n      }\n    }\n  }\n  ","\n  ","\n"])),ae,re),Pt=(Object(te.a)(Lt||(Lt=Object(ee.a)(["\n  query Movie($id: Int!) {\n    movie(id: $id) {\n      ...movieFields\n    }\n  }\n  ","\n"])),ae),Object(te.a)(Ft||(Ft=Object(ee.a)(["\n  query Users($first: Int, $after: String, $last: Int, $before: String) {\n    users(first: $first, after: $after, last: $last, before: $before) {\n      pageInfo {\n        ...pageInfoFields\n      }\n      edges {\n        cursor\n      }\n      nodes {\n        ...userFields\n      }\n    }\n  }\n  ","\n  ","\n"])),ne,re),Object(te.a)(Tt||(Tt=Object(ee.a)(["\n  query User($id: Int!) {\n    user(id: $id) {\n      ...userFields\n    }\n  }\n  ","\n"])),ne),Object(te.a)(Ct||(Ct=Object(ee.a)(["\n  query Self {\n    self {\n      ...userFields\n    }\n  }\n  ","\n"])),ne)),zt=n(321),Ut=n(184),Ht=n.n(Ut),Dt="c66d3d36a1ab33af191a31634a1b5a81";var At=Object(w.a)(Object(y.a)({header:{position:"sticky"},page:{padding:"0px"},form__movie:{background:"white",color:"white",width:"90%",display:"flex",marginBottom:"150px",marginLeft:"5%",marginRight:"5%",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 3.5px )",borderRadius:"5px",paddingTop:"0px",padding:"10px"},form__movie__mobile:{background:"white",color:"white",width:"90%",display:"flex",marginBottom:"150px",marginLeft:"2%",marginRight:"2%",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 3.5px )",borderRadius:"5px",paddingTop:"0px",paddingBottom:"20px",padding:"10px"},browse:{marginTop:"100px"},browsing__header:{textDecoration:"none",cursor:"pointer",outline:"none",border:"none",fontWeight:700,fontSize:"50px",textAligh:"center",borderRadius:"0.2vw",paddingLeft:"32px",paddingRight:"32px",paddingBottom:"0px",marginRight:"auto",marginLeft:"auto",paddingTop:"8px",color:"#fff",textTransform:"uppercase",textShadow:"0 0 30px #ffffff, 0 0 10px #ffffff"},browsing__filter:{marginTop:"10px",marginLeft:"3%"},browsing__filterInput:{width:"70%"},browsing__searchField:{marginTop:"10px",width:"85%"},browsing__searchIcon:{marginTop:"20px",paddingLeft:"5%"}})),Et=function(e){Object(Qe.a)(e);var t=p.a.useState([]),n=Object(k.a)(t,2),a=n[0],i=n[1],r=Object(Wt.a)(Bt,{fetchPolicy:"no-cache"}),o=r.loading,c=r.error,s=r.data,l=At();Object(u.useEffect)((function(){o&&console.log("loading..."),c||o||i(s.movies.nodes.map((function(e){return Object(G.jsx)("div",{children:Object(G.jsx)(ut,{title:e.title,plot:e.plot,rating:String(e.rating),genre:e.genre,poster:e.imageURL,release_date:"undefined"})})})))}),[s]);var d=_t.a.create({baseURL:"https://api.themoviedb.org/3"}),b=p.a.useState([]),j=Object(k.a)(b,2),g=j[0],h=j[1],m=p.a.useState("16"),x=Object(k.a)(m,2),f=x[0],w=x[1],y=p.a.useState(""),_=Object(k.a)(y,2),N=_[0],I=_[1],S="https://image.tmdb.org/t/p/original/";return Object(u.useEffect)((function(){function e(){return(e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("discover/movie?api_key=".concat(Dt,"&with_genres=").concat(Number(f)));case 2:t=e.sent,h(t.data.results.map((function(e){return Object(G.jsx)("div",{children:Object(G.jsx)(ut,{title:null===e||void 0===e?void 0:e.title,plot:null===e||void 0===e?void 0:e.overview,rating:String(null===e||void 0===e?void 0:e.vote_average),genre:"undefined",poster:"".concat(S).concat(e.poster_path),release_date:e.release_date})})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),["discover/movie?api_key=".concat(Dt,"&with_genres=").concat(Number(f))]),Object(u.useEffect)((function(){function e(){return(e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("search/movie?api_key=".concat(Dt,"&language=en-US&query=").concat(N,"&page=1&include_adult=false"));case 2:t=e.sent,h(t.data.results.map((function(e){return Object(G.jsx)("div",{children:Object(G.jsx)(ut,{title:null===e||void 0===e?void 0:e.title,plot:null===e||void 0===e?void 0:e.overview,rating:String(null===e||void 0===e?void 0:e.vote_average),genre:"undefined",poster:"".concat(S).concat(e.poster_path),release_date:e.release_date})})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),["search/movie?api_key=".concat(Dt,"&language=en-US&query=").concat(N,"&page=1&include_adult=false")]),Object(G.jsxs)("div",{className:l.page,children:[Object(G.jsx)(Rt,{}),0===a.length?Object(G.jsx)(Xe.a,{}):Object(G.jsx)(xt,{cards:a,cols:window.innerWidth/230}),Object(G.jsx)("h1",{className:l.browsing__header,children:"Just browsing?"}),Object(G.jsx)(Ue.a,{className:Object(je.a)(be()({minWidth:990}))?l.form__movie:l.form__movie__mobile,children:Object(G.jsxs)(ve.a,{container:!0,spacing:4,children:[Object(G.jsxs)(ve.a,{className:l.browsing__filter,item:!0,xs:12,sm:3,children:[Object(G.jsx)(Pe.a,{className:l.browsing__filter,id:"demo-customized-select-label",children:"\xa0\xa0 Browse By Genre"}),Object(G.jsxs)(He.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:f,onChange:function(e){w(e.target.value)},className:l.browsing__filterInput,children:[Object(G.jsx)(ze.a,{value:"27",children:"Horror"}),Object(G.jsx)(ze.a,{value:"878",children:"Sci-Fi"}),Object(G.jsx)(ze.a,{value:"16",children:"Animation"}),Object(G.jsx)(ze.a,{value:"28",children:"Action"}),Object(G.jsx)(ze.a,{value:"14",children:"Fantasy"}),Object(G.jsx)(ze.a,{value:"35",children:"Comedy"}),Object(G.jsx)(ze.a,{value:"10749",children:"Romance"})]})]}),Object(G.jsxs)(ve.a,{item:!0,xs:12,sm:6,children:[Object(G.jsx)(zt.a,{id:"outlined-search",label:"Search for any movie with any keyword... e.g. pokemon",type:"search",value:N,variant:"outlined",onChange:function(e){I(e.target.value)},className:l.browsing__searchField}),Object(G.jsx)(Ht.a,{fill:"black",color:"primary",fontSize:"large",className:l.browsing__searchIcon})]})]})}),Object(G.jsx)("div",{className:l.browse,children:0===a.length?Object(G.jsx)(Xe.a,{}):Object(G.jsx)(xt,{cards:g,cols:window.innerWidth/230})})]})},Yt=n.p+"static/media/ticketbgqr.27b2803f.svg";n(249);var Gt=function(){var e=p.a.useState([]),t=Object(k.a)(e,2),n=t[0],a=t[1],i=Object(Wt.a)(Mt,{variables:{userId:Number(ge.id)}}),r=i.loading,o=i.error,c=i.data;return Object(u.useEffect)((function(){r&&console.log("loading..."),o||r||a(c.bookingsByUserId.map((function(e){return Object(G.jsx)("div",{children:Object(G.jsx)(Ot,{id:e.id,booked:e.booked,created:e.created,price:e.price,qr:Yt,movieTitle:(t=e.movieId,1==t?"Whisper of The Heart":2==t?"Ponyo":3==t?"Your Name":4==t?"My Neighbor Totoro":5==t?"A Whisker Away":6==t?"The Mitchells vs the Machines":7==t?"When Marnie Was There":8==t?"Pok\xe9mon: Mewtwo Strikes Back\u2014Evolution":9==t?"Pok\xe9mon Detective Pikachu":"Raya and the Last Dragon")})});var t})))}),[c]),Object(G.jsxs)("div",{className:"typewriter",children:[Object(G.jsxs)("h1",{children:["Hello, ","undefined"===(null===ge||void 0===ge?void 0:ge.name)?"please wait...":null===ge||void 0===ge?void 0:ge.name,"."]}),0===n.length?Object(G.jsx)(Xe.a,{}):Object(G.jsx)(wt,{tickets:n})]})};var qt=function(){var e=Object(Wt.a)(Pt),t=(e.loading,e.error,e.data),n=Object(je.a)(be()({minWidth:700}));return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(me,{user:null===t||void 0===t?void 0:t.self}),Object(G.jsxs)(x.d,{children:[Object(G.jsx)(x.b,{exact:!0,path:"/",children:Object(G.jsx)(x.a,{to:"/home"})}),Object(G.jsx)(x.b,{path:"/home",render:function(){return Object(G.jsx)(Et,{})}}),Object(G.jsx)(x.b,{path:"/booking",children:Object(G.jsx)("div",{className:n?"booking__ticket":"booking__ticket__mobile",children:Object(G.jsx)(Je,{})})}),Object(G.jsx)(x.b,{path:"/tickets",children:Object(G.jsx)("div",{className:n?"ticket":"ticket__mobile",children:Object(G.jsx)(Gt,{})})})]}),Object(G.jsx)(Ne,{})]})},Jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,329)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))},Kt=n(310),Zt=n(187),Qt=n(312),Xt=n(313),Vt=n(185),en=Object(Zt.a)({uri:"https://mhyphen-backend.azurewebsites.net/graphql/"}),tn=Object(Vt.a)((function(e,t){var n=t.headers,a=localStorage.getItem("token");return{headers:Object(xe.a)(Object(xe.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),nn=new Qt.a({link:tn.concat(en),cache:new Xt.a});m.a.render(Object(G.jsx)(g.a,{children:Object(G.jsx)(Kt.a,{client:nn,children:Object(G.jsx)(p.a.StrictMode,{children:Object(G.jsx)(qt,{})})})}),document.getElementById("root")),Jt()}},[[250,1,2]]]);
//# sourceMappingURL=main.0f6be2ca.chunk.js.map