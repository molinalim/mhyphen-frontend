(this.webpackJsonpmhyphen=this.webpackJsonpmhyphen||[]).push([[0],{210:function(e,t,n){},211:function(e,t,n){},213:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},226:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,d,b,j,u=n(0),m=n.n(u),g=n(130),h=n(20),p=n.n(h),x=(n(210),n(19)),O=(n(211),n(72)),f=n.n(O),v=n(97),k=n(33),w=(n(213),n(86)),y=n(187),I=n(286),_=n(287),N=n(250),S=n(319),$=n(313),L=n(320),F=n(278),C=n(248),T=n(279),R=n(280),M=n(281),U=n(282),z=n(163),B=n.n(z),P=n(164),W=n.n(P),A=n(165),H=n.n(A),E=n(166),D=n.n(E),G=n(3),Y=Object(w.a)({list:{width:"100%",height:180,background:"black",backdropFilter:"blur( 2.5px )"},listText:{color:"white"},fullList:{width:"auto",color:"white"}}),q=function(e){var t=e.user,n=Y();return Object(G.jsxs)("div",{className:n.list,children:[Object(G.jsxs)(F.a,{children:[Object(G.jsxs)(C.a,{button:!0,href:"/",component:T.a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(B.a,{style:{fill:"white"}})}),Object(G.jsx)(M.a,{className:n.listText,primary:"Home"})]}),Object(G.jsxs)(C.a,{button:!0,href:"/booking",component:T.a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(W.a,{style:{fill:"white"}})}),Object(G.jsx)(M.a,{className:n.listText,primary:"Book"})]})]}),Object(G.jsx)(U.a,{}),Object(G.jsx)(F.a,{children:t?Object(G.jsxs)(C.a,{button:!0,href:"/home",component:T.a,onClick:function(){localStorage.removeItem("token")},children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(H.a,{style:{fill:"white"}})}),Object(G.jsx)(M.a,{className:n.listText,primary:"Logout"})]}):Object(G.jsxs)(C.a,{button:!0,href:"https://github.com/login/oauth/authorize?client_id=".concat("a6ac879139cfdf60af2a","&scope=user&redirect_uri=").concat("http://localhost:3000/home"),component:T.a,children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(D.a,{style:{fill:"white"}})}),Object(G.jsx)(M.a,{className:n.listText,primary:"Login"})]})})]})},K=n(171),Z=n.n(K),J=n(288),X=n.p+"static/media/M-.cd10786d.png",Q=n(314),V=n(30),ee=n(310),te=Object(ee.a)(a||(a=Object(V.a)(["\n  fragment userFields on User {\n    id\n    name\n    gitHub\n    imageURI\n  }\n"]))),ne=Object(ee.a)(i||(i=Object(V.a)(["\n  fragment movieFields on Movie {\n    id\n    title\n    plot\n    imageURL\n    runtime\n    rating\n    genre\n  }\n"]))),ae=Object(ee.a)(r||(r=Object(V.a)(["\n  fragment bookingFields on Booking {\n    id\n    price\n    booked\n    created\n    movieId\n    userId\n  }\n"]))),ie=Object(ee.a)(o||(o=Object(V.a)(["\n  fragment pageInfoFields on PageInfo {\n    hasNextPage\n    hasPreviousPage\n    startCursor\n    endCursor\n  }\n"]))),re=Object(ee.a)(c||(c=Object(V.a)(["\n  mutation Login($code: String!) {\n    login(input: { code: $code }) {\n      user {\n        ...userFields\n      }\n      jwt\n    }\n  }\n  ","\n"])),te),oe=(Object(ee.a)(s||(s=Object(V.a)(["\n  mutation EditSelf($name: String!, $imageURI: String!) {\n    editSelf(input: { name: $name, imageURI: $imageURI }) {\n      ...userFields\n    }\n  }\n  ","\n"])),te),Object(ee.a)(l||(l=Object(V.a)(["\n  mutation AddMovie(\n    $title: String!\n    $plot: String!\n    $imageURL: String!\n    $runtime: Int!\n    $rating: Float!\n    $genre: String!\n  ) {\n    addMovie(\n      input: {\n        title: $title\n        plot: $plot\n        imageURL: $imageURL\n        runtime: $runtime\n        rating: $rating\n        genre: $genre\n      }\n    ) {\n      ...movieFields\n    }\n  }\n  ","\n"])),ne),Object(ee.a)(d||(d=Object(V.a)(["\n  mutation EditMovie(\n    $movieId: String!\n    $title: String!\n    $plot: String!\n    $imageURL: String!\n    $runtime: Int!\n    $rating: Float!\n    $genre: String!\n  ) {\n    editMovie(\n      input: {\n        movieId: $movieId\n        title: $title\n        plot: $plot\n        imageURL: $imageURL\n        runtime: $runtime\n        rating: $rating\n        genre: $genre\n      }\n    ) {\n      ...movieFields\n    }\n  }\n  ","\n"])),ne),Object(ee.a)(b||(b=Object(V.a)(["\n  mutation AddBooking($booked: DateTime!, $movieId: ID!) {\n    addBooking(input: { booked: $booked, movieId: $movieId }) {\n      ...bookingFields\n    }\n  }\n  ","\n"])),ae)),ce=(Object(ee.a)(j||(j=Object(V.a)(["\n  mutation EditBooking($bookingId: ID!, $movieId: String) {\n    editBooking(input: { bookingId: $bookingId, movieId: $movieId }) {\n      ...bookingFields\n    }\n  }\n  ","\n"])),ae),n(172)),se=n.n(ce);var le=Object(w.a)((function(e){return Object(y.a)({root:{flexGrow:1},logo:{marginLeft:"40%"},appBar:{width:"100%",position:"fixed",minHeight:"60px",backgroundSize:"cover",marginLeft:"auto",marginRight:"auto",height:"60px",transitionTimingFunction:"ease-in",transition:"all 0.5s",alignItems:"centre",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur( 2.5px )",background:"rgba( 255, 255, 255, 0.20 )"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},inputRoot:{color:"inherit"},userInformation:{display:"flex"},flexEnd:{justifyContent:"flex-end",alignItems:"center",display:"flex"},login:{marginLeft:"35%",alignItems:"center",display:"flex"}})})),de="a12b7d82fa895598caba",be=function(e){var t=e.user,n=Object(x.g)(),a=le(),i=Object(u.useState)(!1),r=Object(k.a)(i,2),o=r[0],c=r[1],s=new URLSearchParams(Object(x.h)().search),l=function(){c(!o)},d=Object(Q.a)(re),b=Object(k.a)(d,1)[0];return Object(u.useEffect)((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=s.get("code"))){e.next=14;break}return e.prev=2,e.next=5,b({variables:{code:t}});case 5:a=e.sent,null!=(i=a.data)&&localStorage.setItem("token",i.login.jwt),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:n.push("/home");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(G.jsx)("div",{className:"header__root",children:Object(G.jsx)(I.a,{className:a.appBar,position:"static",children:Object(G.jsxs)(_.a,{children:[Object(G.jsxs)(N.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer",onClick:l,children:[Object(G.jsx)(Z.a,{}),Object(G.jsx)(S.a,{anchor:"top",open:o,onClose:l,children:Object(G.jsx)(q,{user:t})})]}),Object(G.jsxs)(N.a,{className:a.logo,href:"/home",children:[Object(G.jsx)("img",{className:"header__logo",src:X,id:"logo",alt:"M- Logo"}),Object(G.jsx)("h1",{className:"header__header",children:"Outdoor Cinema"})]}),null==t?Object(G.jsxs)("div",{className:a.login,children:[Object(G.jsx)(se.a,{fontSize:"large"}),Object(G.jsx)(J.a,{color:"inherit",href:"https://github.com/login/oauth/authorize?client_id=".concat(de,"&scope=user&redirect_uri=").concat("https://mhyphen.azurewebsites.net/home"),children:"Login"})]}):Object(G.jsx)("div",{className:"header__user",children:Object(G.jsx)("div",{className:a.userInformation,children:Object(G.jsxs)($.a,{smDown:!0,children:[Object(G.jsx)(L.a,{alt:"user-avatar",src:t.imageURI}),Object(G.jsx)(J.a,{color:"inherit",href:"/booking",children:t.name})]})})})]})})})},je=n(68),ue=function(e){var t=e.name,n=e.url,a=e.logo;return Object(G.jsx)(N.a,{href:n,children:Object(G.jsx)("img",{src:a,id:a,height:"20px",alt:t})})},me=n(290),ge=n(307),he=n.p+"static/media/microsoft_logo.b41d1309.svg",pe=[{name:"Facebook",url:"https://www.facebook.com/studentaccelerator/",logo:n.p+"static/media/facebook_logo.c4f27ea8.svg"},{name:"Discord",url:"https://discord.gg/c4Y5SAZ",logo:n.p+"static/media/discord_logo.f19d6e13.svg"},{name:"Facebook Group",url:"https://www.facebook.com/groups/msaccelerator/",logo:n.p+"static/media/facebookgroup_logo.e322da27.svg"},{name:"YouTube",url:"https://www.youtube.com/channel/UCCegNuS_AZjK-P3ZMN3JXNw",logo:n.p+"static/media/youtube_logo.f4c527c2.svg"},{name:"GitHub",url:"https://github.com/nzmsa",logo:n.p+"static/media/github_logo.0751427e.svg"}],xe={name:"Microsoft logo",url:"https://www.microsoft.com/en-nz",logo:he},Oe=(n(222),function(){return Object(G.jsxs)("footer",{className:"footer",children:[Object(G.jsx)($.a,{smDown:!0,children:Object(G.jsxs)(me.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:3,children:[Object(G.jsxs)(me.a,{item:!0,xs:9,children:[Object(G.jsx)(ue,Object(je.a)({},xe)),"Copyright \xa9 Microsoft Student Accelerator, 2021. All rights reserved"]}),Object(G.jsx)(me.a,{item:!0,xs:3,children:pe.map((function(e){return Object(G.jsx)(ue,Object(je.a)({},e),e.name)}))})]})}),Object(G.jsx)($.a,{smUp:!0,children:Object(G.jsxs)(me.a,{container:!0,direction:"row",children:[Object(G.jsx)(me.a,{item:!0,children:Object(G.jsxs)(me.a,{container:!0,direction:"row",justify:"space-between",spacing:3,children:[Object(G.jsx)(me.a,{item:!0,children:Object(G.jsx)(ge.a,{marginLeft:2,children:"\xa9 MSA 2021"})}),Object(G.jsx)(me.a,{item:!0,children:Object(G.jsx)(T.a,{color:"inherit",href:"https://go.microsoft.com/fwlink/?LinkId=521839",children:"Privacy policy"})}),Object(G.jsx)(me.a,{item:!0,children:Object(G.jsx)(T.a,{color:"inherit",href:"https://go.microsoft.com/fwlink/?LinkID=206977",children:"Terms of use"})})]})}),Object(G.jsx)(me.a,{item:!0,children:Object(G.jsx)(ge.a,{marginLeft:8,children:pe.map((function(e){return Object(G.jsx)(ue,Object(je.a)({},e),e.name)}))})})]})})]})}),fe=n(291),ve=n(56),ke=n(182),we=(n(223),["primary","size","backgroundColor","label","className"]),ye=function(e){var t=e.primary,n=void 0!==t&&t,a=e.size,i=void 0===a?"medium":a,r=e.backgroundColor,o=e.label,c=e.className,s=Object(ke.a)(e,we),l=n?"storybook-button--primary":"storybook-button--secondary";return Object(G.jsx)("button",Object(je.a)(Object(je.a)({type:"button",className:["storybook-button","storybook-button--".concat(i),c,l].join(" "),style:{backgroundColor:r}},s),{},{children:o}))},Ie=n(173),_e=n.n(Ie),Ne=n(180),Se=n(24),$e=n(296),Le=n(317),Fe=n(316),Ce=n(295),Te=n(292),Re=n(311),Me=n(297),Ue=n(300),ze=n(298),Be=n(301),Pe=n(289),We=n(81),Ae=n.n(We);function He(){return Object(Pe.a)(Ae()({minWidth:700}))}var Ee=Object(w.a)((function(e){return{root:{"& .MuiFormHelperText-root":{color:"#372854"}},form__container:{maxWidth:"600px !important",padding:"15px"},form__movie:{width:"490px"},form__movie__mobile:{width:"220px"},form:{marginLeft:"-21%",marginTop:"20%",textAlign:"center",fontFamily:"Helvetica",color:"#000000",padding:"25px",width:"500px",background:"rgba( 255, 255, 255, 0.40 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 3.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )"},form__mobile:{marginTop:"23%",textAlign:"center",fontFamily:"Helvetica",color:"#000000",padding:"25px",background:"rgba( 255, 255, 255, 0.40 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 3.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )",marginLeft:"5%",marginRight:"5%"},button:{margin:"auto",marginTop:"10px",color:"white"},notLoggedIn:{color:"red"}}})),De=function(){var e=Ee(),t=Object(u.useState)(""),n=Object(k.a)(t,2),a=n[0],i=n[1],r=Object(u.useState)(!1),o=Object(k.a)(r,2),c=o[0],s=o[1],l=Object(u.useState)(!1),d=Object(k.a)(l,2),b=d[0],j=d[1],g=m.a.useState(new Date("2021-08-18T21:11:54")),h=Object(k.a)(g,2),p=h[0],x=h[1],O=Object(u.useState)(!1),w=Object(k.a)(O,2),y=w[0],I=w[1],_=Object(Q.a)(oe),N=Object(k.a)(_,1)[0],S=m.a.useState(!1),$=Object(k.a)(S,2),L=$[0],F=$[1],C=function(e){x(e)},T=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N({variables:{movieId:parseInt(a),booked:p}});case 3:j(!0),F(!0),s(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),s(!0);case 12:I(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)(fe.a,{className:e.form__container,children:[Object(G.jsxs)("div",{className:He()?e.form:e.form__mobile,children:[b?Object(G.jsxs)("div",{children:[Object(G.jsx)(_e.a,{fontSize:"large"}),Object(G.jsx)(ve.a,{variant:"h4",children:"Your ticket is ready!"}),Object(G.jsxs)(me.a,{children:["Your booking reference is \u3014M",String(a),"@",p.toLocaleString(),"\u3015 ."]})]}):Object(G.jsx)(ve.a,{variant:"h4",children:"FILL IN YOUR TICKET"}),c?Object(G.jsx)(me.a,{className:e.notLoggedIn,children:"Please make sure you are logged in and selected a movie."}):null,Object(G.jsxs)(me.a,{container:!0,spacing:4,children:[Object(G.jsx)(me.a,{item:!0,xs:12,sm:12,children:Object(G.jsxs)(Te.a,{className:He()?e.form__movie:e.form__movie__mobile,children:[Object(G.jsx)(Fe.a,{id:"demo-customized-select-label",children:" Movie "}),Object(G.jsxs)(Re.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:a,onChange:function(e){i(e.target.value)},className:y&&""===a?"":e.root,children:[Object(G.jsx)(Ce.a,{value:"1",children:"Whisper of The Heart"}),Object(G.jsx)(Ce.a,{value:"2",children:"Ponyo"}),Object(G.jsx)(Ce.a,{value:"3",children:"Your Name"}),Object(G.jsx)(Ce.a,{value:"4",children:"My Neighbor Totoro"}),Object(G.jsx)(Ce.a,{value:"5",children:"A Whisker Away"}),Object(G.jsx)(Ce.a,{value:"6",children:"The Mitchells vs the Machines"}),Object(G.jsx)(Ce.a,{value:"7",children:"When Marnie Was There"}),Object(G.jsx)(Ce.a,{value:"8",children:"Pok\xe9mon: Mewtwo Strikes Back\u2014Evolution"})]})]})}),Object(G.jsxs)(Se.a,{utils:Ne.a,children:[Object(G.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)($e.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Please select a Date",value:p,onChange:C,KeyboardButtonProps:{"aria-label":"change date"}})}),Object(G.jsx)(me.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(Le.a,{margin:"normal",id:"time-picker",label:"Please pick a Time",value:p,onChange:C,KeyboardButtonProps:{"aria-label":"change time"}})})]})]}),b?null:Object(G.jsx)(ye,{className:e.button,backgroundColor:"#130430",label:"Book",onClick:T,primary:!0,size:"medium"})]}),Object(G.jsx)(Ye,{isOpen:L,setIsOpen:F})]})},Ge=Object(w.a)(Object(y.a)({content:{background:"rgba( 255, 255, 255, 0.20 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 2.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )",padding:"15px"},buttonGroup:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{margin:"10px"}})),Ye=function(e){var t=e.isOpen,n=e.setIsOpen,a=Ge();return Object(G.jsxs)(Me.a,{open:t,onClose:function(){return n(!1)},children:[Object(G.jsx)(Ue.a,{children:"Your booking has been recorded!"}),Object(G.jsxs)(ze.a,{className:a.content,children:[Object(G.jsx)(Be.a,{children:"Please take a screenshot of the completed ticket or keep your booking reference. You may pay $15 when you arrive at the cinema."}),Object(G.jsx)(ye,{backgroundColor:"#130430",label:"Back",onClick:function(){return n(!1)},primary:!0,size:"medium"})]})]})},qe=n(299),Ke=n(302),Ze=n(303),Je=n(174),Xe=n.n(Je),Qe=Object(w.a)(Object(y.a)({card:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",alignContent:"center",minWidth:"190px",maxWidth:"300px",minHeight:"200px",maxHeight:"700px",width:"1%",height:"300px",borderRadius:"17px",background:"rgba( 255, 255, 255, 0.10 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 11.5px )",border:"1px solid rgba( 255, 255, 255, 0.18 )"},icon:{color:"rgba(255, 255, 255, 0.54)"},poster:{width:"100%",height:"100%"},plot:{width:"90%",zIndex:1e3,color:"rgba(255, 255, 255, 0.54)"},wrapper:{width:"100%",minHeight:"50px",color:"#fff"},divider:{width:"90%",marginLeft:"5%"},header:{display:"flex"},description:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur( 2.5px )",background:"rgba( 255, 255, 255, 0.20 )"}})),Ve=Object(w.a)(Object(y.a)({content:{background:"rgba( 255, 255, 255, 0.20 )",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",backdropFilter:"blur( 2.5px )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18 )",padding:"15px"},info:{alignItems:"center",display:"flex"},buttonGroup:{padding:"20px",display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{margin:"10px"}})),et=Qe,tt=n(175),nt=n.n(tt),at=n(176),it=n.n(at),rt=function(e){var t=e.isOpen,n=e.setIsOpen,a=e.title,i=e.plot,r=e.rating,o=e.genre,c=Ve();return Object(G.jsxs)(Me.a,{open:t,onClose:function(){return n(!1)},children:[Object(G.jsx)(Ue.a,{children:a}),Object(G.jsxs)(ze.a,{className:c.content,children:[Object(G.jsxs)(Be.a,{className:c.info,children:[Object(G.jsx)(nt.a,{}),"\xa0 Rating: ",r]}),Object(G.jsxs)(Be.a,{className:c.info,children:[Object(G.jsx)(it.a,{}),"\xa0 Genre: ",o]}),Object(G.jsx)(U.a,{}),Object(G.jsx)("br",{}),Object(G.jsx)(Be.a,{children:i}),Object(G.jsx)("div",{className:c.buttonGroup,children:Object(G.jsx)(ye,{backgroundColor:"#000000",label:"Back",onClick:function(){return n(!1)},primary:!0,size:"medium"})})]})]})},ot=function(e){var t=e.title,n=e.plot,a=e.rating,i=e.genre,r=e.poster,o=et(),c=m.a.useState(!1),s=Object(k.a)(c,2),l=s[0],d=s[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)(Ke.a,{className:o.card,variant:"outlined",children:[Object(G.jsx)("img",{className:o.poster,src:r,alt:t}),Object(G.jsx)(Ze.a,{className:o.description,title:t,subtitle:Object(G.jsx)("span",{children:n}),actionIcon:Object(G.jsx)(N.a,{"aria-label":"info about ".concat(t),className:o.icon,onClick:function(){return d(!0)},children:Object(G.jsx)(Xe.a,{})})})]}),Object(G.jsx)(rt,{isOpen:l,setIsOpen:d,title:t,plot:n,rating:a,genre:i})]})},ct=n(304),st=n(305),lt=Object(w.a)(Object(y.a)({root:{display:"flex",flexWrap:"wrap",marginLeft:"20px",paddingTop:"0",zIndex:10,position:"relative",marginTop:"-100px"},cardList:{width:"100%",gap:"0%",height:"100%",transform:"translateZ(0)",flexWrap:"nowrap"},cardListItem:{marginRight:"10px",marginLeft:"10px",marginBottom:"100px"}})),dt=function(e){var t=lt(),n=[];return e.forEach((function(e){n.push(Object(G.jsx)(st.a,{className:t.cardListItem,children:e}))})),n},bt=function(e){var t=e.cards,n=(e.cols,lt());return Object(G.jsx)("div",{className:n.root,children:Object(Pe.a)(Ae()({minWidth:700}))?Object(G.jsx)(ct.a,{className:n.cardList,cols:7,rowHeight:"auto",children:dt(t)}):Object(G.jsx)(ct.a,{className:n.cardList,cols:1.5,rowHeight:"auto",children:dt(t)})})},jt=(n(226),n(177)),ut=n.n(jt).a.create({baseURL:"https://api.themoviedb.org/3"}),mt="c66d3d36a1ab33af191a31634a1b5a81",gt={fetchTrending:"/trending/all/week?api_key=".concat(mt,"&language=en-US"),fetchNetflixOriginals:"/discover/movie?api_key=".concat(mt,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(mt,"&language=en-US"),fetchAnimations:"discover/movie?api_key=".concat(mt,"&with_genres=16"),fetchSciFi:"discover/movie?api_key=".concat(mt,"&with_genres=878"),fetchRaya:"movie/527774-raya-and-the-last-dragon"};var ht,pt,xt,Ot,ft,vt=function(){var e,t,n=m.a.useState([]),a=Object(k.a)(n,2),i=a[0],r=a[1];return Object(u.useEffect)((function(){function e(){return(e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.get(gt.fetchAnimations);case 2:return t=e.sent,r(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(i),Object(G.jsxs)("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:"url('https://image.tmdb.org/t/p/original/".concat(null===i||void 0===i?void 0:i.backdrop_path,"')"),backgroundPosition:"center center"},children:[Object(G.jsxs)("div",{className:"banner__contents",children:[Object(G.jsx)("h1",{className:"banner__title",children:(null===i||void 0===i?void 0:i.title)||(null===i||void 0===i?void 0:i.name)||(null===i||void 0===i?void 0:i.original_name)}),Object(G.jsx)("h1",{className:"banner__description",children:(e=String(null===i||void 0===i?void 0:i.overview),t=160,(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e)}),Object(G.jsx)("a",{className:"banner__button",href:"/booking",children:"GET YOUR TICKET NOW!"}),Object(Pe.a)(Ae()({minWidth:700}))?Object(G.jsxs)("div",{className:"sign",children:[Object(G.jsx)("span",{className:"fast-flicker",children:"N"}),"OW",Object(G.jsx)("span",{className:"flicker",children:"\xa0SHO"}),Object(G.jsx)("span",{className:"fast-flicker",children:"WI"}),"NG"]}):null]}),Object(G.jsx)("div",{className:"banner--fadeBottom"})]})},kt=(n(178),n(312)),wt=Object(ee.a)(ht||(ht=Object(V.a)(["\n  query Movies($first: Int, $after: String, $last: Int, $before: String) {\n    movies(first: $first, after: $after, last: $last, before: $before) {\n      pageInfo {\n        ...pageInfoFields\n      }\n      edges {\n        cursor\n      }\n      nodes {\n        ...movieFields\n      }\n    }\n  }\n  ","\n  ","\n"])),ne,ie),yt=(Object(ee.a)(pt||(pt=Object(V.a)(["\n  query Movie($id: Int!) {\n    movie(id: $id) {\n      ...movieFields\n    }\n  }\n  ","\n"])),ne),Object(ee.a)(xt||(xt=Object(V.a)(["\n  query Users($first: Int, $after: String, $last: Int, $before: String) {\n    users(first: $first, after: $after, last: $last, before: $before) {\n      pageInfo {\n        ...pageInfoFields\n      }\n      edges {\n        cursor\n      }\n      nodes {\n        ...userFields\n      }\n    }\n  }\n  ","\n  ","\n"])),te,ie),Object(ee.a)(Ot||(Ot=Object(V.a)(["\n  query User($id: Int!) {\n    user(id: $id) {\n      ...userFields\n    }\n  }\n  ","\n"])),te),Object(ee.a)(ft||(ft=Object(V.a)(["\n  query Self {\n    self {\n      ...userFields\n    }\n  }\n  ","\n"])),te)),It=Object(w.a)(Object(y.a)({header:{position:"sticky"},page:{padding:"0px"}})),_t=function(e){e.pageTitle;var t=m.a.useState([]),n=Object(k.a)(t,2),a=n[0],i=n[1],r=Object(kt.a)(wt,{fetchPolicy:"no-cache"}),o=r.loading,c=r.error,s=r.data,l=It();return Object(u.useEffect)((function(){o&&console.log("loading..."),c||o||i(s.movies.nodes.map((function(e){return Object(G.jsx)("div",{children:Object(G.jsx)(ot,{title:e.title,plot:e.plot,rating:String(e.rating),genre:e.genre,poster:e.imageURL})})})))}),[s]),Object(G.jsxs)("div",{className:l.page,children:[Object(G.jsx)(vt,{}),0===a.length?Object(G.jsx)(qe.a,{}):Object(G.jsx)(bt,{cards:a,cols:window.innerWidth/650})]})};var Nt=function(){var e=Object(kt.a)(yt),t=(e.loading,e.error,e.data),n=Object(Pe.a)(Ae()({minWidth:700}));return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(be,{user:null===t||void 0===t?void 0:t.self}),Object(G.jsxs)(x.d,{children:[Object(G.jsx)(x.b,{exact:!0,path:"/",children:Object(G.jsx)(x.a,{to:"/home"})}),Object(G.jsx)(x.b,{path:"/home",render:function(){return Object(G.jsx)(_t,{pageTitle:"Now Showing"})}}),Object(G.jsx)(x.b,{path:"/booking",children:Object(G.jsx)("div",{className:n?"booking__ticket":"booking__ticket__mobile",children:Object(G.jsx)(De,{})})})]}),Object(G.jsx)(Oe,{})]})},St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,324)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))},$t=n(306),Lt=n(181),Ft=n(308),Ct=n(309),Tt=n(179),Rt=Object(Lt.a)({uri:"https://mhyphen-backend.azurewebsites.net/graphql/"}),Mt=Object(Tt.a)((function(e,t){var n=t.headers,a=localStorage.getItem("token");return{headers:Object(je.a)(Object(je.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),Ut=new Ft.a({link:Mt.concat(Rt),cache:new Ct.a});p.a.render(Object(G.jsx)(g.a,{children:Object(G.jsx)($t.a,{client:Ut,children:Object(G.jsx)(m.a.StrictMode,{children:Object(G.jsx)(Nt,{})})})}),document.getElementById("root")),St()}},[[244,1,2]]]);
//# sourceMappingURL=main.33d37099.chunk.js.map